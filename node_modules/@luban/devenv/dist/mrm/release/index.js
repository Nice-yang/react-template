"use strict";
const mrm_core_1 = require("mrm-core");
const task = function release() {
    const pkgJson = mrm_core_1.packageJson();
    pkgJson
        .appendScript("release", "yarn semantic-release --ci false")
        .save();
    const releaseConfig = mrm_core_1.json(".releaserc", {
        plugins: [
            "@semantic-release/commit-analyzer",
            ["@semantic-release/release-notes-generator"],
            "@semantic-release/changelog",
            [
                "@semantic-release/npm",
                {
                    npmPublish: false
                }
            ],
            [
                "@semantic-release/git",
                {
                    assets: [
                        "package.json",
                        "CHANGELOG.md"
                    ],
                    message: "chore(release): ${nextRelease.version} [skip ci]\n\n${nextRelease.notes}"
                }
            ]
        ]
    });
    releaseConfig.save();
    mrm_core_1.install(["@semantic-release/changelog", "@semantic-release/git", "semantic-release"], { yarn: true });
};
task.description = "Add semantic-release config for Luban developer";
module.exports = task;
//# sourceMappingURL=index.js.map