#!/usr/bin/env sh
path=`cd $(dirname $0); pwd -P`
mrmPath=$path/../dist/mrm
if [ ! -d $mrmPath ]
then 
    exit 1
fi

if [ $# -eq 0 ]
then 
    echo "Usage:"
    echo -e "\tdev-setup [task...]"
    echo "Available tasks"
    echo -e "\tall\t\tRun all tasks except publish"
    echo -e "\tcommitlint\tSetup commit lint for Luban developer"
    echo -e "\tgit\t\tSetup git for Luban developer"
    echo -e "\tlint\t\tAdd lint for Luban developer"
    echo -e "\tpublish\t\tAdd publish config for Luban developer"
    echo -e "\trelease\t\tAdd semantic-release config for Luban developer"
    echo -e "\ttypescript\tSetup typescript for Luban developer"

    exit 0
fi    
    

if [ $1 = "all" ]
then
    yarn mrm typescript git lint commitlint --dir $mrmPath
else
    yarn mrm $@ --dir $mrmPath
fi
